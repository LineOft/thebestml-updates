{
    "version": "4.3.9",
    "buildNumber": 365,
    "minBuildNumber": 150,
    "required": false,
    "releaseDate": "2025-12-28",
    "fileSize": 6.4,
    "apkUrl": "https://github.com/LineOft/thebestml-updates/releases/download/v4.2.41/GameStore_v4.2.41_debug.apk",
    "changelog": [
        "Düzeltme: iframe + Intent URL yöntemiyle harici tarayıcı açma (Chrome'a yönlendirir)",
        "Düzeltme: OTA manifest fetch XMLHttpRequest ile yeniden yazıldı — WebView uyumluluğu artırıldı",
        "Düzeltme: OTA manifest ek CDN kaynağı (jsDelivr) + detaylı hata mesajları",
        "Düzeltme: İndirme linkleri artık harici tarayıcıda açılır — indirmeler düzgün çalışır",
        "Hotfix: Kullanıcı destek modalı açıkken 2sn aralıklı polling — mesajlar anlık görünür",
        "Debug: Destek long-poll detaylı console.log eklendi — sorun teşhisi için",
        "Hotfix: Destek long-poll agresif self-heal — sunucu lastMessageAtMs > local ise mesajları zorla yenile",
        "Hotfix: Destek poll cursor her zaman sunucudan alınır — cursor kayması önlenir",
        "Hotfix: Destek long-poll self-heal eklendi (unread var ama delta boşsa otomatik /me ile senkron) — admin→kullanıcı mesajı kaçmaz",
        "Hotfix: Destek mesaj birleştirme sıralaması deterministik (createdAtMs + id) — cursor uyumsuzluğu önlenir",
        "Hotfix: Destek mesaj sıralaması deterministik yapıldı (createdAtMs + id) — admin→kullanıcı mesajları kaçmaz",
        "Hotfix: Destek long-poll artık cursor tabanlı (afterCursor) — admin→kullanıcı mesajları kaçmaz",
        "Hotfix: OTA güncellemeleri hızlandırıldı (30sn kontrol) + online/visible tetikleme",
        "Hotfix: OTA güncellemeleri daha güvenilir (GitHub API rate-limit yerine raw.githubusercontent.com öncelik)",
        "Hotfix: Destek long-poll clock-skew toleransı (admin→kullanıcı mesajları anlık düşer)",
        "Hotfix: Kullanıcı destek ekranında anlık admin mesajı (optimistic timestamp/poll since düzeltildi)",
        "Hotfix: Destek long-poll timeout düzeltildi (anlık güncelleme için 30sn client timeout)",
        "Destek: Kullanıcı ve admin chat ekranında long-poll ile anlık mesaj güncelleme",
        "Admin: Admin Yönetimi ile eklenen adminler Worker/D1 yetkisine otomatik senkronlanır",
        "Hotfix: Uygulama içi sürüm gösterimi düzeltildi (APP_VERSION senkron)",
        "Performans: Worker modunda dekont artık direkt hızlı sıkıştırılır (25sn Storage timeout beklemez)",
        "Debug: Sipariş gönderiminde arka plan performans logları (Worker/D1) aktif",
        "Performans: Sipariş gönderiminde admin bildirimi arka planda; ağ takılmalarında Worker isteği timeout ile kesilir",
        "Hotfix: Açılışta oluşan SyntaxError için otomatik kurtarma (OTA cache temizlenir ve yeniden yüklenir)",
        "Hotfix: Açılışta görülen JavaScript hatası düzeltildi (uygulama tekrar açılır)",
        "Düzeltme: Admin panel (bekleyen siparişler) Worker yetki hatasını net gösterir (401/403)",
        "Düzeltme: Dekont Storage yüklemesi 25sn timeout; takılırsa otomatik base64 fallback (bekleme dakikalar sürmez)",
        "Düzeltme: Remote config yükleme hatası artık kalıcı cache'lenmez; otomatik retry/backoff",
        "Düzeltme: Admin panel sipariş yönetimi Cloudflare Worker/D1 ile uyumlu (bekleyen liste + detay + onay/red)",
        "Düzeltme: Worker sipariş gönderiminde paket/alanlar string'e zorlanır + hata detayları (HTTP/payload) gösterilir",
        "Düzeltme: Sipariş gönderimi Cloudflare Worker/D1 üzerinden (Firestore kotadan bağımsız)",
        "Acil: Bakım modu aktif (trafik kesme) + zorunlu güncelleme",
        "Acil: Firestore kota dolunca GitHub config ile bakım kilidi (trafik kesme)",
        "Stabilite: Dekont Storage yüklemesi hata verirse otomatik alternatif (base64) yönteme düşer",
        "Performans: Dekontlar artık Firebase Storage'a yüklenir, Firestore'da sadece URL tutulur (Spark kota tasarrufu)",
        "Performans: Üye listesi (admin panel) realtime dinleme kapatıldı, tek seferlik yükleme yapar (Spark kota tasarrufu)",
        "Performans: Admin metrikleri için pahalı taramalar kaldırıldı (Spark kota tasarrufu)",
        "Performans: Firestore kota tüketimini azaltmak için online/presence heartbeat ve destek sohbeti yenileme (polling) optimize edildi",
        "Düzeltme: Sipariş oluştururken görülen 'Quota exceeded' hatası için dekont otomatik sıkıştırma + daha açıklayıcı hata mesajı eklendi",
        "Düzeltme: Aylık özet sipariş silme artık arşiv kaydını da siler (listede kalma sorunu giderildi)",
        "Düzeltme: Bildirimleri temizle sonrası 9+ rozetinin takılı kalması düzeltildi",
        "Güvenlik (Admin): Aylık özet sipariş silme yetkisi sadece OWNER",
        "Geliştirme (Admin): Onaylanan siparişler arşivlenir; silinse bile aylık özetlerde görünür",
        "Yeni (Admin): Aylık onaylanan sipariş detayında onaylayan admin bilgisi",
        "Yeni (Admin): Aylık onaylanan sipariş detayında %15 admin payı toplamı gösterimi",
        "Yeni (Admin): Bekleyen Siparişler altında aylık onaylanan sipariş özeti (ay bazında adet + toplam tutar + detay liste)",
        "Yeni (Admin): Admin Yönetimi ekranında admin istatistikleri (toplam süre, onaylanan sipariş, devralınan destek)",
        "Destek: Mesaj görünümü geliştirildi (daha modern sohbet baloncukları)",
        "Destek: Admin mesajlarında animasyonlu uygulama logosu (avatar) gösterilir",
        "Destek: Kullanıcı mesajlarında profil fotoğrafı avatar olarak gösterilir",
        "Destek: Admin yanıtlarında kullanıcıya uygulama içi + FCM bildirim (tek sefer, çift bildirim engelli)",
        "Destek: Kullanıcı destek ekranı açık görünse bile FCM push engellenmez (sadece uygulama içi bildirim atlanır)",
        "Destek: Görüldü (read receipt) eklendi",
        "Yeni: Destek SSS (FAQ) eklendi (sohbet başlığındaki ❓)",
        "Yeni: Destek Otomatik Bilgi eklendi (mesaj alanındaki ℹ️ ile teşhis metni ekleme)",
        "Güncelleme: FAQ 'hızlı bilgi' maddesi ℹ️ Otomatik Bilgi ile güncellendi",
        "Güncelleme: Otomatik Bilgi içine telefon bilgisi eklendi",
        "Güncelleme: ℹ️ Otomatik Bilgi butonu daha belirgin yapıldı",
        "Düzeltme: Admin panel destek sohbetlerinde kullanıcı adı 'undefined' yerine email olarak gösterilir",
        "Düzeltme: Uygulama içi sürüm gösterimi güncellendi",
        "Güvenlik: Ban riski bilgilendirme eklendi (tek seferlik onay, satın alma/destek öncesi zorunlu)",
        "Düzeltme: Ban riski bilgilendirme butonları (Devam Et / Çıkış Yap) düzeltildi",
        "Yeni: Sadakat puanı eklendi (profilde puan görüntüleme, onaylanan siparişlerden puan kazanma)",
        "Yeni: Sadakat puanı ile indirim (havale siparişinde puan kullanma, reddedilince otomatik iade)",
        "Yeni (Admin): Sipariş detayında sadakat puanı/indirim/ödenecek tutar bilgisi",
        "Yeni (Admin): Sadakat puanı kazanım ayarı (oran veya sipariş başına sabit puan)",
        "Düzeltme: Admin destek yanıtlarında kullanıcıya FCM push (email eksik olsa da)",
        "Düzeltme: FCM token kaydı daha güvenli (users dokümanı yoksa oluşturur)",
        "Debug: Destek yanıt push logları eklendi (chats/{uid}/pushLogs)",
        "Not: Bu OTA içerik güncellemesidir; APK bağlantısı değişmemiş olabilir"
    ]
}